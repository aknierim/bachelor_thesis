% colors
\colorlet{darkRed}{red!80!black}
\colorlet{darkBlue}{blue!70!black}
\xdefinecolor{codebg}{HTML}{ECECEC}

% font settings
\setmainfont{Libertinus Serif}

\defaultfontfeatures{Ligatures=TeX}  % -- becomes en-dash etc.
\setromanfont{Libertinus Serif}[Numbers={OldStyle}]
\setsansfont{Libertinus Sans}
\setmonofont{Fira Mono}[Scale=MatchLowercase]

\newfontfamily\lining{Libertinus Serif}
\newfontfamily\tablefont{Libertinus Serif}[Numbers={Monospaced}]

\setmathfont{Libertinus Math}
\setmathfont{XITS Math}[range={scr, bfscr}]
\setmathfont{XITS Math}[range={cal, bfcal}, StylisticSet=1]

\newfontfamily{\lstsansserif}[Scale=0.9,LetterSpace=0.0]{Fira Code}


% https://tex.stackexchange.com/questions/330243/chapter-heading-formatting-with-scrreprt
% and from Max NÃ¶thes Ph.D. thesis
\renewcommand\chapterlinesformat[3]{%
  \Ifstr{#1}{chapter}
  {%
    \makebox[\textwidth][l]{%
      \parbox[b]{\textwidth}{\raggedchapter #3}%
      \hspace*{\marginparsep}#2%
    }\\*[-.5\baselineskip]
    \colorrule[tugreen]{\textwidth}{.4pt}%
    \par%
  }
  {\@hangfrom{#2}{#3}}%
}
\interfootnotelinepenalty=10000

% hyperref settings
\hypersetup{
  pdfa,
  unicode,
  pdfencoding=unicode,
  colorlinks=true,
  linkcolor=tugreen!40!black,
  urlcolor=darkBlue,
  citecolor=black,
}


% yaml listing settings
\lstdefinelanguage{yaml}{
  keywords={true,false,null,y,n},
  keywordstyle=\color{darkgray}\bfseries,
  ndkeywordstyle=\color{black}\bfseries,
  literate={*}{{\lstsansserif*}}1,
  % identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{\#},
  commentstyle=\color{gray}\ttfamily,
  moredelim=[l][\color{orange}]{\&},
  % stringstyle=\color{blue}\ttfamily,
}